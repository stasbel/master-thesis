\documentclass{spbau-diploma}

\newcommand\TODO[1]{\textcolor{red}{TODO: #1}}  % To mark TODOs.
\overfullrule=3mm  % To note hbox errors.
\newcommand\sep{\newline\textcolor{red}{\rule{\textwidth}{3pt}}\newline\indent}  % RU-EN separator

% Chars count
\usepackage{shellesc}
\usepackage{lastpage}
\newread\tmp
\newcommand{\stats}[1]{
\ShellEscape{texcount -1 -sum=1,1,1,1,1,1,1 -merge -char -q #1.tex output.bbl > #1-chars.sum}
\openin\tmp=#1-chars.sum%
\read\tmp to \chars%
\closein\tmp%
\ShellEscape{texcount -1 -sum=1,1,1,1,1,1,1 -merge -q #1.tex output.bbl > #1-words.sum}
\openin\tmp=#1-words.sum%
\read\tmp to \words%
\closein\tmp%
\noindent\textcolor{red}{\Huge Chars: \the\numexpr \words + \chars \relax \slash 40000}\\
\textcolor{red}{\Huge Pages: \pageref*{LastPage}\slash 40}
}

\begin{document}

\stats{main}

\include{parts/begining}

\include{parts/ru/introduction}  % *
\include{parts/ru/related-work}  % 1
\include{parts/ru/model}  % 2
\include{parts/ru/training}  % 3
\include{parts/ru/results}  % 4
\include{parts/ru/conclusion}  % *

\include{parts/ending}

\end{document}
